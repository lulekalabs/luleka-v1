<%#--- password %>
<% form_element do %>
  <%= form_label :user, :password, 
    "Password".t + characters_inclusion(User::PASSWORD_MIN_CHARACTERS, User::PASSWORD_MAX_CHARACTERS), 
      :req => true, :position => :top %>
  <% form_field :user, :password do %>
    <%= password_field :user, :password, :maxlength => User::PASSWORD_MAX_CHARACTERS,
      :id => "password_field" %>

	  <%= text_field_tag :clear_password, @user.password, :size => User::PASSWORD_MAX_CHARACTERS, 
	    :maxlength => User::PASSWORD_MAX_CHARACTERS, :id => "clear_password_field", :style => "display:none;" %>  

	  <dl class="field clearClass" style="padding-top:5px;line-height:10px;">
	    <dt class="box">
	      <%= check_box_tag :view_password, "0", false %>
	    </dt>
      <dd class="label">
        &nbsp;<%= label_tag :view_password, "Show Password".t, :style=>"font-weight:normal;font-size:11px;" %>
      </dd>
    </dl>
  <% end %>
<% end %>

<%#--- password %>
<% form_element do %>
  <%= form_label :user, :password_confirmation, "Re-type Password".t, :req => true, :position => :top %>
  <% form_field :user, :password_confirmation do %>
    <%= password_field :user, :password_confirmation, :maxlength => User::PASSWORD_MAX_CHARACTERS,
      :id => "password_confirmation_field" %>

	  <%= text_field_tag :clear_password_confirmation, @user.password_confirmation, 
	    :size => User::PASSWORD_MAX_CHARACTERS, 
	    :maxlength => User::PASSWORD_MAX_CHARACTERS, :id => "clear_password_confirmation_field", 
	    :style => "display:none;" %>  

  <% end %>
<% end %>
<script type="text/javascript">
//<![CDATA[

  var passwordField = new Luleka.VisiblePasswordField('password_field', 'clear_password_field', 'view_password');
  var passwordConfirmationField = new Luleka.VisiblePasswordField('password_confirmation_field', 'clear_password_confirmation_field', 'view_password');

//]]>
</script>
